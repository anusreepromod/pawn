{% extends "master.html" %}
{% load static %}
{% block content %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
<div class="div" style="padding-top: 80px;">
    
   
        <center>
        <div class="col-lg-12"  style="padding-top:50px;" >
          
              <div class="card" style="width: 800px;text-align: start;color:black;">
                  <div class="card-header" style="text-align: center;font-weight: bold;background-color: cadetblue; " >New Customer</div>
                  <div class="card-body">
                      <div class="form-group">
                          <label for="Name">Name</label>
                          <input type="text" class="form-control" name="name" id="name">
                        </div>
                        
                            <div class="form-group ">
                                <label for="gender" class="form-control-label">Gender</label><span class="text-danger pl-1">*</span>
                                <div class="d-flex radio-check">
                                    <div class="custom-control custom-radio custom-control-inline col-lg-3" style="padding-left:60px;">
                                            <input type="radio" id="g_male" value="Male" name="gender" class="custom-control-input">
                                        <label class="custom-control-label" for="g_male">Male</label>
                                    </div>
                                    <div class="custom-control custom-radio custom-control-inline">
                                        <input type="radio" id="g_female" value="Female" name="gender" class="custom-control-input">
                                        <label class="custom-control-label" for="g_female">Female</label>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="address">Father's Name</label>
                                <input type="text" class="form-control" name="text" id="fname">
                              </div>
                        <div class="form-group">
                          <label for="address">Address</label>
                          <input type="text" class="form-control" name="text" id="address">
                        </div>
                        <div class="form-group">
                            <div class="row">
                                <div class="col-lg-3">
                                    <label for="City">City</label>
                                    <input type="text" class="form-control" name="city" id="city" >
                                </div>
                                <div class="col-lg-3">
                                    <label for="State">State</label>
                                    <input type="text" class="form-control" name="state" id="state">
                                </div>
                                <div class="col-lg-3">
                                    <label for="Country">Country</label>
                                    <input type="text" class="form-control" name="country" id="country" >
                                </div>
                                <div class="col-lg-3">
                                    <label for="Pincode">Pincode</label>
                                    <input type="text" class="form-control" name="pincode" id="pincode">
                                </div>
                            </div>
                            <div class="form-group ">
                                <div class="row">
                                    <div class="col-lg-6">
                                        <label for="DOB" class="form-control-label">Date Of Birth</label><span class="text-danger pl-1">*</span>
                                        <input type="date" class="form-control" name="dob" id="dob">
                                    </div>
                                    <div class="col-lg-6">
                                        <label for="mobile" class="form-control-label">Mobile</label><span class="text-danger pl-1">*</span>
                                        <input type="text" class="form-control" name="mobile" id="mobile">
                                    </div>
                                </div>
                                
                                
                            </div>
                            <div class="row">
                                <div class="col-lg-6">
                                    <div class="form-group">
                                        <label for="email">Email</label>
                                        <input type="email" class="form-control" name="email"  id="email">
                                      </div>
                                  </div>
                                  <div class="col-lg-6">
                                    <div class="form-group">
                                        <label for="password">Password</label>
                                        <input type="text" class="form-control" name="password"  id="password">
                                      </div>
                                    </div>
                                </div>
                                
                                </div>
                              
                           
                      </div>
                          <div class="row">
                          <div class="form-group col-6">
                            <div class="float-left col-3.5">
                                <label for="document" class="float-left pt-1 form-control-label">Photo<span class="text-danger">*</span> </label>
                            </div>
                            <div class="float-right col-9">
                                <!-- <input type="hidden" name="certificate" id="" value="" > -->
                                <div class="choose-file form-group">
                                    <label for="">
                                        
                                        <input class="form-control   border-0"    name="photo" type="file" id="photo" data-filename="">
                                    </label>     
                                </div>
                            </div>
                        </div>
                        <div class="form-group col-6">
                            <div class="float-left col-3.5">
                                <label for="document" class="float-left pt-1 form-control-label">Id Proof<span class="text-danger">*</span> </label>
                            </div>
                            <div class="float-right col-9">
                                <!-- <input type="hidden" name="certificate" id="" value="" > -->
                                <div class="choose-file form-group">
                                    <label for="">
                                        
                                        <input class="form-control   border-0"    name="idproof" type="file" id="idproof" data-filename="">
                                    </label>     
                                </div>
                            </div>
                        </div>
                    </div>
                        <center>
                          <button  class="btn btn-secondary col-lg-6"  onclick="add()">Add</button>
                        </center>
                        </div>
              </div>
          
        </div>
    </center>
     

</div>

<script>
     function add(){
           
           $.ajaxSetup({
 headers: { "X-CSRFToken": '{{csrf_token}}' }
});
var data= new FormData()
  
  data.append("photo",$("input[id^='photo']")[0].files[0]);
  data.append("idproof",$("input[id^='idproof']")[0].files[0]);
  data.append("name",$('#name').val());
  data.append("email",$('#email').val());
  data.append("password",$('#password').val());
  data.append("fname",$('#fname').val());
  data.append("address",$('#address').val());
  data.append("city",$('#city').val());
  data.append("state",$('#state').val());
  data.append("country",$('#country').val());
  data.append("pincode",$('#pincode').val());
  data.append("mobile",$('#mobile').val());
  data.append("dob",$('#dob').val());
  data.append("gender",$("input[name='gender']").val());
           $.ajax({
               url:'/adminapp/fnuser/',
               type:'POST',
               enctype: 'multipart/form-data',
               contentType: false,
               processData: false,
               data:data,
               success:function(response){
                   alert(response.msg)
                 location.reload(true)
               }
           })
       }
</script>
{% endblock %}